{"version":3,"file":"base-branches.js","sourceRoot":"","sources":["../../../lib/util/package-rules/base-branches.ts"],"names":[],"mappings":";;;;AAAA,kEAAkC;AAElC,kDAAoD;AACpD,iCAAiC;AAEjC,MAAa,mBAAoB,SAAQ,cAAO;IACrC,OAAO,CACd,EAAE,UAAU,EAA0B,EACtC,EAAE,iBAAiB,EAAe;QAElC,IAAI,YAAE,CAAC,SAAS,CAAC,iBAAiB,CAAC,EAAE,CAAC;YACpC,OAAO,IAAI,CAAC;QACd,CAAC;QAED,IAAI,YAAE,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC;YAC7B,OAAO,KAAK,CAAC;QACf,CAAC;QAED,OAAO,iBAAiB,CAAC,IAAI,CAAC,CAAC,eAAe,EAAW,EAAE;YACzD,MAAM,aAAa,GAAG,IAAA,gCAAiB,EAAC,eAAe,CAAC,CAAC;YACzD,IAAI,aAAa,EAAE,CAAC;gBAClB,OAAO,aAAa,CAAC,UAAU,CAAC,CAAC;YACnC,CAAC;YACD,OAAO,eAAe,KAAK,UAAU,CAAC;QACxC,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AArBD,kDAqBC","sourcesContent":["import is from '@sindresorhus/is';\nimport type { PackageRule, PackageRuleInputConfig } from '../../config/types';\nimport { getRegexPredicate } from '../string-match';\nimport { Matcher } from './base';\n\nexport class BaseBranchesMatcher extends Matcher {\n  override matches(\n    { baseBranch }: PackageRuleInputConfig,\n    { matchBaseBranches }: PackageRule,\n  ): boolean | null {\n    if (is.undefined(matchBaseBranches)) {\n      return null;\n    }\n\n    if (is.undefined(baseBranch)) {\n      return false;\n    }\n\n    return matchBaseBranches.some((matchBaseBranch): boolean => {\n      const isAllowedPred = getRegexPredicate(matchBaseBranch);\n      if (isAllowedPred) {\n        return isAllowedPred(baseBranch);\n      }\n      return matchBaseBranch === baseBranch;\n    });\n  }\n}\n"]}