"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.deleteReconfigureBranchCache = exports.setReconfigureBranchCache = void 0;
const logger_1 = require("../../../logger");
const repository_1 = require("../../../util/cache/repository");
function setReconfigureBranchCache(reconfigureBranchSha, isConfigValid) {
    const cache = (0, repository_1.getCache)();
    const reconfigureBranchCache = {
        reconfigureBranchSha,
        isConfigValid,
    };
    if (cache.reconfigureBranchCache) {
        logger_1.logger.debug({ reconfigureBranchCache }, 'Update reconfigure branch cache');
    }
    else {
        logger_1.logger.debug({ reconfigureBranchCache }, 'Create reconfigure branch cache');
    }
    cache.reconfigureBranchCache = reconfigureBranchCache;
}
exports.setReconfigureBranchCache = setReconfigureBranchCache;
function deleteReconfigureBranchCache() {
    const cache = (0, repository_1.getCache)();
    if (cache?.reconfigureBranchCache) {
        logger_1.logger.debug('Delete reconfigure branch cache');
        delete cache.reconfigureBranchCache;
    }
}
exports.deleteReconfigureBranchCache = deleteReconfigureBranchCache;
//# sourceMappingURL=reconfigure-cache.js.map